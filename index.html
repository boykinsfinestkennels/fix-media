<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>HTML Builder Pro</title><style>body{margin:0;padding:0;background:#1a1a1a;color:#fff;font-family:Arial,sans-serif;height:100vh;overflow:hidden;display:flex}.container{display:flex;width:100%;height:100%}.sidebar{width:250px;background:#222;padding:10px;display:flex;flex-direction:column;gap:8px;border-right:2px solid #00ffcc;overflow-y:auto;display:none}.sidebar.active{display:flex}.main{flex:1;display:flex;flex-direction:column}h2{color:#00ffcc;margin:0;padding:10px;font-size:1.5rem;text-align:center;background:#333;border-bottom:1px solid #00ffcc}#preview{flex:1;background:#fff;color:#000;overflow:auto;position:relative;border-top:1px solid #00ffcc}button,select,input{padding:6px;border:none;border-radius:4px;background:#00ffcc;color:#000;cursor:pointer;font-size:.9rem;width:100%}button:hover{background:#00ccaa}select,input[type="color"],input[type="number"]{background:#444;color:#fff}label{color:#fff;font-size:.8rem;margin-top:8px}.section{position:absolute;border:2px solid #00ffcc;padding:8px;background:#f0f0f0;cursor:move;box-sizing:border-box}.section.selected{border-color:#ff00cc}.resize-handle{position:absolute;width:10px;height:10px;background:#ff00cc;cursor:nwse-resize}.resize-handle.top-left{top:-5px;left:-5px}.resize-handle.bottom-right{bottom:-5px;right:-5px}.text-section,.section[contenteditable]{outline:none}.carousel{overflow:hidden;position:relative;width:100%;height:100%}.carousel-inner{display:flex;transition:transform .5s}.carousel-item{flex:0 0 100%;text-align:center}.carousel-btn{position:absolute;top:50%;transform:translateY(-50%);background:#00ffcc;padding:5px;cursor:pointer}.carousel-btn.prev{left:5px}.carousel-btn.next{right:5px}#status{padding:8px;font-size:.9rem;color:#ccc;text-align:center;background:#333}#toggleSidebar{position:absolute;top:10px;left:10px;background:#00ffcc;color:#000;padding:5px;border-radius:4px;cursor:pointer;z-index:10}#undoBtn,#redoBtn,#previewBtn{width:auto;margin:5px;display:inline-block}@media (max-width:600px){.sidebar{width:180px}button,select,input{font-size:.8rem}}</style></head><body><div class="container"><button id="toggleSidebar">☰</button><div class="sidebar"><label>Content</label><button id="addTextBtn">Add Text</button><button id="addImageBtn">Add Image</button><button id="addButtonBtn">Add Button</button><button id="addCarouselBtn">Add Carousel</button><button id="addSectionBtn">Add Section</button><label>Management</label><button id="duplicateBtn">Duplicate</button><button id="deleteBtn">Delete</button><label>Section Styling</label><select id="fontSize"><option value="12">Font: 12px</option><option value="16" selected>Font: 16px</option><option value="20">Font: 20px</option><option value="24">Font: 24px</option></select><input type="color" id="textColor" value="#000000"><label>Text Color</label><input type="color" id="headingColor" value="#000000"><label>Heading Color</label><input type="color" id="sectionBgColor" value="#f0f0f0"><label>Section Bg</label><input type="color" id="buttonColor" value="#00ffcc"><label>Button Color</label><select id="textAlign"><option value="left">Align Left</option><option value="center">Align Center</option><option value="right">Align Right</option></select><label>Page Styling</label><input type="color" id="pageBgColor" value="#ffffff"><label>Page Bg</label><select id="themeSelect"><option value="">Theme</option><option value="dark">Dark</option><option value="neon">Neon</option><option value="minimal">Minimal</option><option value="custom">Custom</option></select><label>History</label><button id="undoBtn">Undo</button><button id="redoBtn">Redo</button><label>Export</label><button id="previewBtn">Preview</button><button id="downloadBtn">Download</button></div><div class="main"><h2>HTML Builder Pro</h2><div id="preview"></div><div id="status">Build your site</div></div></div><script>const preview=document.getElementById('preview'),status=document.getElementById('status'),sidebar=document.querySelector('.sidebar'),toggleSidebarBtn=document.getElementById('toggleSidebar');let sections=[],selectedSection=null,history=[],historyIndex=-1,redoStack=[];function saveState(){const state={sections:sections.map(s=>({content:s.el.innerHTML,x:s.x,y:s.y,width:s.width,height:s.height,type:s.type,styles:{fontSize:s.el.style.fontSize,color:s.el.style.color,backgroundColor:s.el.style.backgroundColor,textAlign:s.el.style.textAlign,headingColor:s.el.querySelector('h2')?.style.color,buttonColor:s.el.querySelector('button')?.style.backgroundColor}})),bg:preview.style.background};history.push(state);if(history.length>10)history.shift();else historyIndex++;redoStack=[];localStorage.setItem('builderState',JSON.stringify(state))}setInterval(saveState,5000);function loadState(){const saved=localStorage.getItem('builderState');if(saved){const state=JSON.parse(saved);sections=state.sections.map(s=>{const div=createSectionElement(s.content,s.x,s.y,s.width,s.height,s.type);applyStyles(div,s.styles);preview.appendChild(div);return{el:div,x:s.x,y:s.y,width:s.width,height:s.height,type:s.type}});preview.style.background=state.bg;history.push(state);historyIndex=0}}function createSectionElement(content,x,y,width,height,type){const div=document.createElement('div');div.className=`section ${type}-section`;div.innerHTML=content;div.style.left=`${x}px`;div.style.top=`${y}px`;div.style.width=`${width}px`;div.style.height=`${height}px`;if(type==='text'||type==='section')div.contentEditable=true;div.addEventListener('input',()=>{if(type==='text'||type==='section')div.innerHTML=div.innerHTML;saveState()});div.addEventListener('mousedown',startDrag);div.addEventListener('click',selectSection);addResizeHandles(div);if(type==='carousel')setupCarousel(div);return div}function applyStyles(el,styles){if(styles.fontSize)el.style.fontSize=styles.fontSize;if(styles.color)el.style.color=styles.color;if(styles.backgroundColor)el.style.backgroundColor=styles.backgroundColor;if(styles.textAlign)el.style.textAlign=styles.textAlign;if(styles.headingColor&&el.querySelector('h2'))el.querySelector('h2').style.color=styles.headingColor;if(styles.buttonColor&&el.querySelector('button'))el.querySelector('button').style.backgroundColor=styles.buttonColor}function addSection(content,x=50,y=50,width=200,height=100,type){const div=createSectionElement(content,x,y,width,height,type);sections.push({el:div,x,y,width,height,type});preview.appendChild(div);saveState()}function addResizeHandles(el){['top-left','bottom-right'].forEach(pos=>{const handle=document.createElement('div');handle.className=`resize-handle ${pos}`;handle.addEventListener('mousedown',startResize);el.appendChild(handle)})}function setupCarousel(el){const inner=el.querySelector('.carousel-inner');let index=0;el.querySelector('.prev').addEventListener('click',()=>{index=(index-1+inner.children.length)%inner.children.length;inner.style.transform=`translateX(-${index*100}%)`});el.querySelector('.next').addEventListener('click',()=>{index=(index+1)%inner.children.length;inner.style.transform=`translateX(-${index*100}%)`})}let activeEl=null,resizing=false,startX,startY,startWidth,startHeight;function startDrag(e){if(e.target.classList.contains('resize-handle'))return;e.preventDefault();activeEl=e.target.closest('.section');selectSection({target:activeEl});startX=e.clientX-parseInt(activeEl.style.left);startY=e.clientY-parseInt(activeEl.style.top);document.addEventListener('mousemove',drag);document.addEventListener('mouseup',stopDrag)}function drag(e){if(!activeEl||resizing)return;requestAnimationFrame(()=>{const x=e.clientX-startX,y=e.clientY-startY;activeEl.style.left=`${x}px`;activeEl.style.top=`${y}px`;const index=sections.findIndex(s=>s.el===activeEl);sections[index].x=x;sections[index].y=y})}function stopDrag(){document.removeEventListener('mousemove',drag);document.removeEventListener('mouseup',stopDrag);saveState();activeEl=null}function startResize(e){e.preventDefault();resizing=true;activeEl=e.target.parentElement;selectSection({target:activeEl});startX=e.clientX;startY=e.clientY;startWidth=parseInt(activeEl.style.width);startHeight=parseInt(activeEl.style.height);document.addEventListener('mousemove',resize);document.addEventListener('mouseup',stopResize)}function resize(e){requestAnimationFrame(()=>{const dx=e.clientX-startX,dy=e.clientY-startY;const newWidth=Math.max(50,startWidth+dx),newHeight=Math.max(50,startHeight+dy);activeEl.style.width=`${newWidth}px`;activeEl.style.height=`${newHeight}px`;const index=sections.findIndex(s=>s.el===activeEl);sections[index].width=newWidth;sections[index].height=newHeight})}function stopResize(){document.removeEventListener('mousemove',resize);document.removeEventListener('mouseup',stopResize);saveState();resizing=false;activeEl=null}function selectSection(e){if(selectedSection)selectedSection.classList.remove('selected');selectedSection=e.target.closest('.section');selectedSection.classList.add('selected');const sec=sections.find(s=>s.el===selectedSection);document.getElementById('fontSize').value=parseInt(sec.el.style.fontSize)||16;document.getElementById('textColor').value=rgbToHex(sec.el.style.color)||'#000000';document.getElementById('headingColor').value=rgbToHex(sec.el.querySelector('h2')?.style.color)||'#000000';document.getElementById('sectionBgColor').value=rgbToHex(sec.el.style.backgroundColor)||'#f0f0f0';document.getElementById('buttonColor').value=rgbToHex(sec.el.querySelector('button')?.style.backgroundColor)||'#00ffcc';document.getElementById('textAlign').value=sec.el.style.textAlign||'left'}function rgbToHex(rgb){if(!rgb||!rgb.startsWith('rgb'))return rgb||'#000000';const[r,g,b]=rgb.match(/\d+/g).map(Number);return`#${((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1)}`}toggleSidebarBtn.addEventListener('click',()=>sidebar.classList.toggle('active'));document.getElementById('addTextBtn').addEventListener('click',()=>addSection('New Text',50,50,200,50,'text'));document.getElementById('addImageBtn').addEventListener('click',()=>{const url=prompt('Image URL:')||'https://via.placeholder.com/200';addSection(`<img src="${url}" style="width:100%;height:100%;object-fit:cover">`,50,50,200,150,'image')});document.getElementById('addButtonBtn').addEventListener('click',()=>addSection('<button>Click Me</button>',50,50,120,40,'button'));document.getElementById('addCarouselBtn').addEventListener('click',()=>{const urls=prompt('Image URLs (comma-separated):')||'https://via.placeholder.com/300,https://via.placeholder.com/300/ff0000';const items=urls.split(',').map(url=>`<div class="carousel-item"><img src="${url.trim()}" style="width:100%;height:100%;object-fit:cover"></div>`).join('');addSection(`<div class="carousel"><div class="carousel-inner">${items}</div><button class="carousel-btn prev">❮</button><button class="carousel-btn next">❯</button></div>`,50,50,300,200,'carousel')});document.getElementById('addSectionBtn').addEventListener('click',()=>addSection('<h2>Section Title</h2><p>Content here...</p>',50,50,300,150,'section'));document.getElementById('deleteBtn').addEventListener('click',()=>{if(selectedSection){const index=sections.findIndex(s=>s.el===selectedSection);selectedSection.remove();sections.splice(index,1);selectedSection=null;saveState()}});document.getElementById('duplicateBtn').addEventListener('click',()=>{if(selectedSection){const sec=sections.find(s=>s.el===selectedSection);addSection(sec.el.innerHTML,sec.x+20,sec.y+20,sec.width,sec.height,sec.type)}});document.getElementById('fontSize').addEventListener('change',e=>{if(selectedSection){selectedSection.style.fontSize=`${e.target.value}px`;saveState()}});document.getElementById('textColor').addEventListener('input',e=>{if(selectedSection){selectedSection.style.color=e.target.value;saveState()}});document.getElementById('headingColor').addEventListener('input',e=>{if(selectedSection&&selectedSection.querySelector('h2')){selectedSection.querySelector('h2').style.color=e.target.value;saveState()}});document.getElementById('sectionBgColor').addEventListener('input',e=>{if(selectedSection){selectedSection.style.backgroundColor=e.target.value;saveState()}});document.getElementById('buttonColor').addEventListener('input',e=>{if(selectedSection&&selectedSection.querySelector('button')){selectedSection.querySelector('button').style.backgroundColor=e.target.value;saveState()}});document.getElementById('textAlign').addEventListener('change',e=>{if(selectedSection){selectedSection.style.textAlign=e.target.value;const sec=sections.find(s=>s.el===selectedSection),previewWidth=preview.offsetWidth;sec.x=e.target.value==='left'?0:e.target.value==='center'?(previewWidth-sec.width)/2:previewWidth-sec.width;sec.el.style.left=`${sec.x}px`;saveState()}});document.getElementById('pageBgColor').addEventListener('input',e=>{preview.style.background=e.target.value;saveState()});document.getElementById('themeSelect').addEventListener('change',e=>{const theme=e.target.value;if(theme==='dark'){preview.style.background='#1a1a1a';sections.forEach(s=>{s.el.style.background='#333';s.el.style.color='#fff';if(s.el.querySelector('button'))s.el.querySelector('button').style.backgroundColor='#00ffcc';if(s.el.querySelector('h2'))s.el.querySelector('h2').style.color='#fff'})}else if(theme==='neon'){preview.style.background='#000';sections.forEach(s=>{s.el.style.background='#ff00cc';s.el.style.color='#00ffcc';if(s.el.querySelector('button'))s.el.querySelector('button').style.backgroundColor='#00ffcc';if(s.el.querySelector('h2'))s.el.querySelector('h2').style.color='#00ffcc'})}else if(theme==='minimal'){preview.style.background='#f5f5f5';sections.forEach(s=>{s.el.style.background='#fff';s.el.style.color='#000';s.el.style.border='1px solid #ccc';if(s.el.querySelector('button'))s.el.querySelector('button').style.backgroundColor='#ddd';if(s.el.querySelector('h2'))s.el.querySelector('h2').style.color='#000'})}else if(theme==='custom'){const pageBg=prompt('Page Bg (HEX):')||'#ffffff',sectionBg=prompt('Section Bg (HEX):')||'#f0f0f0',textColor=prompt('Text Color (HEX):')||'#000000',buttonColor=prompt('Button Color (HEX):')||'#00ffcc',headingColor=prompt('Heading Color (HEX):')||textColor;preview.style.background=pageBg;sections.forEach(s=>{s.el.style.background=sectionBg;s.el.style.color=textColor;if(s.el.querySelector('button'))s.el.querySelector('button').style.backgroundColor=buttonColor;if(s.el.querySelector('h2'))s.el.querySelector('h2').style.color=headingColor})}saveState()});document.getElementById('undoBtn').addEventListener('click',()=>{if(historyIndex>0){redoStack.push(history[historyIndex]);historyIndex--;const state=history[historyIndex];preview.innerHTML='';sections=state.sections.map(s=>{const div=createSectionElement(s.content,s.x,s.y,s.width,s.height,s.type);applyStyles(div,s.styles);return{el:div,x:s.x,y:s.y,width:s.width,height:s.height,type:s.type}});preview.style.background=state.bg;sections.forEach(s=>preview.appendChild(s.el))}});document.getElementById('redoBtn').addEventListener('click',()=>{if(redoStack.length>0&&redoStack.length<=5){historyIndex++;const state=redoStack.pop();history.push(state);preview.innerHTML='';sections=state.sections.map(s=>{const div=createSectionElement(s.content,s.x,s.y,s.width,s.height,s.type);applyStyles(div,s.styles);return{el:div,x:s.x,y:s.y,width:s.width,height:s.height,type:s.type}});preview.style.background=state.bg;sections.forEach(s=>preview.appendChild(s.el))}});document.getElementById('previewBtn').addEventListener('click',()=>{const html=`<!DOCTYPE html><html><head><title>My Site</title><style>body{margin:0;padding:0;background:${preview.style.background||'#fff'};font-family:Arial,sans-serif}.carousel{overflow:hidden;position:relative;width:100%;height:100%}.carousel-inner{display:flex;transition:transform .5s}.carousel-item{flex:0 0 100%;text-align:center}.carousel-btn{position:absolute;top:50%;transform:translateY(-50%);background:#00ffcc;padding:5px;cursor:pointer}.carousel-btn.prev{left:5px}.carousel-btn.next{right:5px}</style></head><body>${sections.map(s=>`<div style="position:absolute;left:${s.x}px;top:${s.y}px;width:${s.width}px;height:${s.height}px;font-size:${s.el.style.fontSize||'16px'};color:${s.el.style.color||'#000'};background:${s.el.style.backgroundColor||'#f0f0f0'};text-align:${s.el.style.textAlign||'left'};border:${s.el.style.border||'2px solid #00ffcc'};padding:8px;box-sizing:border-box">${s.el.innerHTML}</div>`).join('')}<script>document.querySelectorAll('.carousel').forEach(c=>{const inner=c.querySelector('.carousel-inner');let index=0;c.querySelector('.prev').addEventListener('click',()=>{index=(index-1+inner.children.length)%inner.children.length;inner.style.transform=\`translateX(-\${index*100}%)\`});c.querySelector('.next').addEventListener('click',()=>{index=(index+1)%inner.children.length;inner.style.transform=\`translateX(-\${index*100}%)\`})})</script></body></html>`;const win=window.open('','_blank');win.document.write(html);win.document.close()});document.getElementById('downloadBtn').addEventListener('click',()=>{const html=`<!DOCTYPE html><html><head><title>My Site</title><style>body{margin:0;padding:0;background:${preview.style.background||'#fff'};font-family:Arial,sans-serif}.carousel{overflow:hidden;position:relative;width:100%;height:100%}.carousel-inner{display:flex;transition:transform .5s}.carousel-item{flex:0 0 100%;text-align:center}.carousel-btn{position:absolute;top:50%;transform:translateY(-50%);background:#00ffcc;padding:5px;cursor:pointer}.carousel-btn.prev{left:5px}.carousel-btn.next{right:5px}</style></head><body>${sections.map(s=>`<div style="position:absolute;left:${s.x}px;top:${s.y}px;width:${s.width}px;height:${s.height}px;font-size:${s.el.style.fontSize||'16px'};color:${s.el.style.color||'#000'};background:${s.el.style.backgroundColor||'#f0f0f0'};text-align:${s.el.style.textAlign||'left'};border:${s.el.style.border||'2px solid #00ffcc'};padding:8px;box-sizing:border-box">${s.el.innerHTML}</div>`).join('')}<script>document.querySelectorAll('.carousel').forEach(c=>{const inner=c.querySelector('.carousel-inner');let index=0;c.querySelector('.prev').addEventListener('click',()=>{index=(index-1+inner.children.length)%inner.children.length;inner.style.transform="translateX(-"+index*100+"%)"});c.querySelector('.next').addEventListener('click',()=>{index=(index+1)%inner.children.length;inner.style.transform="translateX(-"+index*100+"%)"})})</script></body></html>`;const blob=new Blob([html],{type:'text/html'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='my-site.html';document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);status.textContent='Downloaded!'})loadState()</script></body></html>